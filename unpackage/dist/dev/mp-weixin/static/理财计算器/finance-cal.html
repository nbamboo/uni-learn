<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>理财计算器</title>
    <style type="text/css">
      @font-face {
        font-family: "iconfont";
        /* project id 372816 */
        src: url("./iconfont/iconfont.eot");
        src: url("./iconfont/iconfont.eot?#iefix") format("embedded-opentype"),
          url("./iconfont/iconfont.woff") format("woff"), url("./iconfont/iconfont.ttf") format("truetype"),
          url("./iconfont/iconfont.svg#iconfont") format("svg");
      }

      .iconfont {
        font-family: "iconfont" !important;
        font-size: 16px;
        font-style: normal;
        -webkit-font-smoothing: antialiased;
        -webkit-text-stroke-width: 0.2px;
        -moz-osx-font-smoothing: grayscale;
      }

      :root {
        box-sizing: border-box;
      }

      body {
        font-family: "Microsoft YaHei", Helvetica, Tahoma, Arial, "Hiragino Sans GB", "Hiragino Sans GB W3", STXihei,
          STHeiti, Heiti, SimSun, sans-serif;
      }
      html,
      body {
        height: 100%;
        margin: 0;
        padding: 0;
      }

      *,
      *::before,
      *::after {
        box-sizing: inherit;
      }

      .clearfix::before,
      .clearfix::after {
        content: " ";
        display: table;
        /* Prevent margins from collpasing through the pseudo elements*/
      }

      .clearfix::after {
        clear: both;
      }

      .pmt-calculator {
        position: relative;
        width: 575px;
        margin: 0 auto;
        z-index: 1;
        transition: box-shadow 0.3s ease-in-out;
        user-select: none;
      }

      .pmt-calculator.drag {
        box-shadow: rgba(0, 0, 0, 0.28) 0px 25.6px 57.6px 0px, rgba(0, 0, 0, 0.22) 0px 4.8px 14.4px 0px;
      }

      .pmt-calculator.drag .pmt-header {
        cursor: move;
      }

      .pmt-header {
        position: relative;
        padding: 10px;
      }

      .pmt-title {
        margin: 0;
      }

      .pmt-close {
        position: absolute;
        top: 10px;
        right: 10px;
        cursor: pointer;
      }

      .pmt-close:hover {
        background-color: rgb(243, 242, 241);
      }

      .pmt-inner {
        padding: 10px 24px 24px;
      }
      .pmt-calculator h1 {
        font-size: 1.2rem;
      }

      .pmt-calculator table {
        width: 96%;
        margin: 0 auto;
      }

      .pmt-calculator tr td:first-of-type {
        width: 120px;
        padding-right: 20px;
        white-space: nowrap;
      }

      .pmt-calculator td {
        padding: 0.4rem 0;
      }
      .rate-text {
        padding-left: 20px !important;
      }

      input.input-param {
        height: 34px;
        width: 320px;
        min-width: 0px;
        margin: 0;
        padding-left: 6px;
        padding-right: 30px;
        border: 1px solid #ddd;
        line-height: 32px;
        font-size: 20px;
        outline: none;
        text-align: right;

        -webkit-font-smoothing: antialiased;
        /* font-size: 14px; */
        font-weight: 400;
        box-shadow: none;
        color: rgb(50, 49, 48);
        /* text-overflow: ellipsis; */
        border-radius: 0px;
        border: 1px solid rgb(96, 94, 92);
        border-image: initial;
        background: none transparent;
        outline: 0px;
        user-select: text;
      }

      input.input-param:focus,
      input.input-param.focused {
        border-color: #008cff;
        text-align: left;
      }

      input.input-param:disabled,
      input.input-param:disabled + .mini-calc {
        color: #968585;
      }

      input.input-param + .mini-calc {
        position: relative;
        top: -1px;
        margin-left: -27px;
        cursor: pointer;
      }

      .per-txt {
        margin-left: 0.5rem;
      }

      input[type="checkbox"] + label {
        display: inline-block;
        width: 80px;
      }

      button.pmt-btn {
        border: 1px solid #eee;
        border-radius: 2px;
        padding: 6px 20px;
        outline: none;
        cursor: pointer;
        font-size: 1rem;
      }

      #calculate {
        color: #fff;
        background-color: #008cff;
      }

      #calculate:hover {
        background-color: #0c6bf9;
      }

      #close {
        background-color: #eee;
      }

      #close:hover {
        background-color: rgb(233, 233, 233);
      }

      #close:active {
        background-color: #e8e8e8;
      }

      button#calculate:active {
        border-color: rgb(54, 54, 238);
      }

      button#close:active {
        border-color: #ccc;
      }

      .result-wrapper {
        margin-top: 1rem;
        padding: 1.2rem 0;
        border-top: 1px solid #ddd;
      }

      .result-caption {
        font-weight: 600;
      }

      .result {
        font-size: 2rem;
        color: #333;
      }

      #calculator footer {
        margin-top: 0.6rem;
      }

      #confirmInput {
        float: left;
      }

      #cancelInput {
        float: right;
      }

      .sub-calc {
        display: none;
        width: 162px;
        background-color: #ddd;
        border: 1px solid #ddd;
        position: absolute;
        z-index: 1;
        right: 0;
        box-shadow: 4px 4px 8px 0px rgba(0, 0, 0, 0.2);
        user-select: none;
      }

      .sub-calc ul {
        float: left;
      }

      .sub-calc ul,
      .sub-calc ul li {
        margin: 0;
        padding: 0;
        list-style: none;
      }

      .sub-calc ul.rt-btn {
        width: 64px;
      }

      .sub-calc ul.lt-btn li:last-child {
        width: 62px;
      }

      .sub-calc ul.rt-btn li.add,
      .sub-calc ul.rt-btn li.eq {
        height: 62px;
        line-height: 62px;
      }

      .sub-calc ul.lt-btn {
        width: 96px;
      }

      .sub-calc ul.lt-btn .clear-one img {
        width: 20px;
        vertical-align: middle;
      }

      .sub-calc ul li {
        float: left;
        width: 30px;
        height: 30px;
        background: #f7f7f7;
        margin: 1px;
        border: 1px solid #fff;
        border-right-color: #9e9898;
        border-bottom-color: #9e9898;
        text-align: center;
        line-height: 30px;
        cursor: pointer;
      }

      .sub-calc ul li:hover {
        background: #eee;
      }

      .pmt-calculator-wrapper {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
      }

      /* .pmt-overlay {
      position: fixed;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
    } */
      .pmt-calculator {
        position: absolute;
        background-color: #fff;
      }
      input.invalid-tip {
        border: 1px solid red;
      }
    </style>
    <script src="bignumber.min.js"></script>
  </head>

  <body>
    <div class="pmt-calculator-wrapper">
      <!-- <div class="pmt-overlay"></div> -->
      <div class="pmt-calculator">
<!--         <h1>理财计算器</h1>-->
        <main class="pmt-inner">
          <table>
            <tr>
              <td class="rate-text">&nbsp;利率</td>
              <td>
                <input type="text" autocomplete="off" class="input-param" name="rate" value="" />
                <i class="iconfont mini-calc">&#xe637;</i> <span class="per-txt">%</span>
              </td>
            </tr>
            <tr>
              <td>
                <input type="checkbox" name="param" value="nper" id="nper" />
                <label for="nper">期数</label>
              </td>
              <td>
                <input type="text" autocomplete="off" class="input-param" name="nper" value="" disabled />
                <i class="iconfont mini-calc">&#xe637;</i>
              </td>
            </tr>
            <tr>
              <td>
                <input type="checkbox" name="param" value="pv" id="pv" />
                <label for="pv">现值</label>
              </td>
              <td>
                <input type="text" autocomplete="off" class="input-param" name="pv" value="" disabled />
                <i class="iconfont mini-calc">&#xe637;</i>
              </td>
            </tr>
            <tr>
              <td>
                <input type="checkbox" name="param" value="fv" id="fv" />
                <label for="fv">终值</label>
              </td>
              <td>
                <input type="text" autocomplete="off" class="input-param" name="fv" value="" disabled />
                <i class="iconfont mini-calc">&#xe637;</i>
              </td>
            </tr>
            <tr>
              <td>
                <input type="checkbox" name="param" value="pmt" id="pmt" />
                <label for="pmt">每期付款额</label>
              </td>
              <td>
                <input type="text" autocomplete="off" class="input-param" name="pmt" value="" disabled />
                <i class="iconfont mini-calc">&#xe637;</i>
              </td>
            </tr>
            <tr>
              <td>
                <input type="radio" name="type" value="1" id="begining" />
                <label for="begining">期初</label>
              </td>
              <td>
                <input type="radio" name="type" value="0" id="ending" checked />
                <label for="ending">期末</label>
              </td>
            </tr>
          </table>
          <div class="result-wrapper">
            <span class="result-caption">&nbsp;计算结果 = </span>
            <span class="result"></span>
          </div>
          <div style="text-align: right">
            <button type="button" class="pmt-btn" id="clear-result">清空</button>
            <button type="button" class="pmt-btn" id="calculate">计算</button>
          </div>
        </main>
        <!-- calculator -->
        <div class="sub-calc">
          <input type="hidden" id="history" />
          <ul class="lt-btn">
            <li class="button num" data-value="7">7</li>
            <li class="button num" data-value="8">8</li>
            <li class="button num" data-value="9">9</li>
            <li class="button num" data-value="4">4</li>
            <li class="button num" data-value="5">5</li>
            <li class="button num" data-value="6">6</li>
            <li class="button num" data-value="1">1</li>
            <li class="button num" data-value="2">2</li>
            <li class="button num" data-value="3">3</li>
            <li class="button num" data-value="0">0</li>
            <li class="button num dot" data-value=".">.</li>
            <li class="button fn ab" data-value="+/-">+/-</li>
            <li class="button fn clear" data-value="C">C</li>
            <li class="button fn clear-one" data-value="CS">
              <img
                class="icon icons8-Clear-Symbol"
                src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABDklEQVRYR+2W4Q3CIBSErxu4iY6gm+hmbqIj6CZuUHNJMeQFeAelaUzoT8LjPo570Ak7f9PO+hgAw4G/cuAA4AHg1KFzfhtXHegpTv4qgFj8DeAM4NPowrzUyQA9xaldBaCIc451IzUWDJMBFPE7gCOASwQR6l4AboljkgAUcc55LgAUIwS/0CW5rLgAinjYmIXgOFu0FNQiQI14CoJjXpe4ANZWr93s/RCOI1cnHYEKYR2jAwxlCcIF4CKpgKVazQaOtR68BKBCsA0ZuvhmDPB04drahrmUx/0ez9nkIqqBqHkW5COIF1UyoUI0AdhMqGKlefJrmHNiLUQTwFrRZL36R7SJOBcdAMOB3R34AqM1YCEu+sgCAAAAAElFTkSuQmCC"
              />
            </li>
          </ul>
          <ul class="rt-btn">
            <li class="button fn divide" data-value="/">/</li>
            <li class="button fn sqrt" data-value="sqrt">sqrt</li>
            <li class="button fn multiply" data-value="*">*</li>
            <li class="button fn percent" data-value="%">%</li>
            <li class="button fn minus" data-value="-">-</li>
            <li class="button fn reciprocal" data-value="1/x">1/x</li>
            <li class="button fn add" data-value="+">+</li>
            <li class="button fn eq" data-value="=">=</li>
          </ul>
        </div>
      </div>
    </div>
    <script src="./finance-cal.js"></script>
  </body>
</html>
